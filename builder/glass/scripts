# notes
# by default conky will reload its configuration if it detects a change on the file
# 
# the new conky configuration is created in a temporary folder and then the target file is overriden
# it turns out that if too many sequential file changes happen to the conky file, conky will stop reloading the file
# hence why we use the temp folder in order to replace the file only once

# desktop sidebar
# available components: usb-devices
java -jar ~/conky/monochrome/builder/freemarker-configuration.jar glass blue && \
pushd /tmp/monochrome/target && \
buildSidebar.bash config cpu-mem network-desktop disk disks-desktop disk-usb time temperature-desktop bottom-edge && \
echo '${voffset -720}]]' >> /tmp/monochrome/sidebar && \
mv system processes /tmp/monochrome/sidebar ~/conky/monochrome/glass


# laptop sidebar
java -jar ~/conky/monochrome/builder/freemarker-configuration.jar glass blue && \
pushd /tmp/monochrome/target && \
buildSidebar.bash config cpu-mem network-laptop disk power bottom-edge && \
echo '${voffset -720}]];' >> /tmp/monochrome/sidebar && \
mv system processes /tmp/monochrome/sidebar ~/conky/monochrome/glass
