# notes
# by default conky will reload its configuration if it detects a change on the file
# 
# The new conky configuration is created in a temporary folder and then the target file is overriden.
# It turns out that if too many sequential file changes happen to the conky file, conky stops reloading the file.
# Hence why we use the temp folder in order to replace the file only once
#
# the java freemarker template app will output the conky blocks in the /tmp/monochrome/target folder

# ::::::: desktop sidebar
java -jar ../freemarker-configuration.jar widgets-dock purple && \
cd /tmp/monochrome/target && \
cat config > /tmp/monochrome/sidebar && \
buildSidebar.bash cpu-mem network-desktop disk disk-desktop disk-maxtor temp-cpu-desktop temp-desktop time-block bottom-edge && \
echo '${voffset -340}]];' >> /tmp/monochrome/sidebar && \
mv /tmp/monochrome/sidebar ~/conky/monochrome/widgets-dock/sidebar && \
mv system sidebar-time ~/conky/monochrome/widgets-dock

# ::::::: laptop sidebar
java -jar ~/conky/monochrome/builder/freemarker-configuration.jar widgets-dock purple && \
cd /tmp/monochrome/target && \
cat config > /tmp/monochrome/sidebar && \
buildSidebar.bash cpu-mem network-laptop disk power temp-cpu-laptop time-block bottom-edge && \
echo '${voffset -260}]];' >> /tmp/monochrome/sidebar && \
mv /tmp/monochrome/sidebar ~/conky/monochrome/widgets-dock/sidebar && \
mv system sidebar-time ~/conky/monochrome/widgets-dock



# design notes
- images should have a top/bottom border of 9px
- vertical offsets have to be done using the default font $(font)
  offsets accross different fonts are not compatible
